  rca.org1:
    image: hyperledger/fabric-ca:1.4.0
    container_name: rca-org1
    command: /bin/bash -c '/scripts/start-intermediate-ca.sh org1 2>&1 | tee /'
    environment:
      - FABRIC_CA_SERVER_HOME=/etc/hyperledger/fabric-ca
      - FABRIC_CA_SERVER_TLS_ENABLED=true
      - FABRIC_CA_SERVER_CSR_CN=rca-org1
      - FABRIC_CA_SERVER_CSR_HOSTS=rca-org1
      - FABRIC_CA_SERVER_DEBUG=true
      - BOOTSTRAP_USER_PASS=
      - TARGET_CERTFILE=
      - FABRIC_ORGS=
    volumes:
      - ./scripts:/scripts
      - ./data:/data
      - rca.org1.example.com:/etc/hyperledger/fabric-ca
    ports:
      - 7054:7054
    networks:
      esrts:
        aliases:
          - rca-org1

  ica.org1:
    image: hyperledger/fabric-ca:1.4.0
    container_name: ica-org1
    command: /bin/bash -c '/scripts/start-intermediate-ca.sh org1 2>&1 | tee /data/logs/ica-org1.log'
    environment:
      - FABRIC_CA_SERVER_HOME=/etc/hyperledger/fabric-ca
      - FABRIC_CA_SERVER_CA_NAME=ica-org1
      - FABRIC_CA_SERVER_INTERMEDIATE_TLS_CERTFILES=/data/org1-ca-cert.pem
      - FABRIC_CA_SERVER_CSR_HOSTS=ica-org1
      - FABRIC_CA_SERVER_TLS_ENABLED=true
      - FABRIC_CA_SERVER_DEBUG=true
      - BOOTSTRAP_USER_PASS=ica-org1-admin:ica-org1-adminpw
      - PARENT_URL=https://rca-org1-admin:rca-org1-adminpw@rca-org1:7054
      - TARGET_CHAINFILE=/data/org1-ca-chain.pem
      - ORG=org1
      - FABRIC_ORGS=org1
    volumes:
      - ./scripts:/scripts
      - ./data:/data
      - ica.org1.example.com:/etc/hyperledger/fabric-ca
    ports:
      - 8054:7054
    networks:
      esrts:
        aliases:
          - rca-org1

  rca.org1:
    image: hyperledger/fabric-ca:1.4.0
    container_name: rca-org1
    command: /bin/bash -c '/scripts/start-intermediate-ca.sh org1 2>&1 | tee /data/logs/ica-org1.log'
    environment:
      - FABRIC_CA_SERVER_HOME=/etc/hyperledger/fabric-ca
      - FABRIC_CA_SERVER_TLS_ENABLED=true
      - FABRIC_CA_SERVER_CSR_CN=rca-org1
      - FABRIC_CA_SERVER_CSR_HOSTS=rca-org1
      - FABRIC_CA_SERVER_DEBUG=true
      - BOOTSTRAP_USER_PASS=rca-org1-admin:rca-org1-adminpw
      - TARGET_CERTFILE=/data/org1-ca-cert.pem
      - FABRIC_ORGS=
    volumes:
      - ./scripts:/scripts
      - ./data:/data
      - rca.org1.example.com:/etc/hyperledger/fabric-ca
    ports:
      - 9054:7054
    networks:
      esrts:
        aliases:
          - rca-org1

  ica.org1:
    image: hyperledger/fabric-ca:1.4.0
    container_name: ica-org1
    command: /bin/bash -c '/scripts/start-intermediate-ca.sh org1 2>&1 | tee /data/logs/ica-org1.log'
    environment:
      - FABRIC_CA_SERVER_HOME=/etc/hyperledger/fabric-ca
      - FABRIC_CA_SERVER_CA_NAME=ica-org1
      - FABRIC_CA_SERVER_INTERMEDIATE_TLS_CERTFILES=/data/org1-ca-cert.pem
      - FABRIC_CA_SERVER_CSR_HOSTS=ica-org1
      - FABRIC_CA_SERVER_TLS_ENABLED=true
      - FABRIC_CA_SERVER_DEBUG=true
      - BOOTSTRAP_USER_PASS=ica-org1-admin:ica-org1-adminpw
      - PARENT_URL=https://rca-org1-admin:rca-org1-adminpw@rca-org1:7054
      - TARGET_CHAINFILE=/data/org1-ca-chain.pem
      - ORG=org1
      - FABRIC_ORGS=org1
    volumes:
      - ./scripts:/scripts
      - ./data:/data
      - ica.org1.example.com:/etc/hyperledger/fabric-ca
    ports:
      - 10054:7054
    networks:
      esrts:
        aliases:
          - rca-org1

